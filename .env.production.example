# BARQ Fleet Management - Production Environment Variables
# Copy this file to .env.production and fill in the values

# ============================================================================
# GCP Configuration
# ============================================================================
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_SERVER=barq-postgres-production
POSTGRES_PORT=5432
POSTGRES_USER=barqadmin
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
POSTGRES_DB=barq_fleet

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=barq-redis-production
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

# ============================================================================
# Application Configuration
# ============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info

# Security
SECRET_KEY=CHANGE_ME_GENERATE_SECURE_RANDOM_KEY_HERE
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30

# CORS
ALLOWED_HOSTS=barq-fleet.com,api.barq-fleet.com
CORS_ORIGINS=https://barq-fleet.com,https://www.barq-fleet.com

# ============================================================================
# Google OAuth (Optional)
# ============================================================================
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3002/auth/google/callback

# ============================================================================
# Cloud Storage
# ============================================================================
GCS_BUCKET_NAME=barq-fleet-uploads
GCS_PROJECT_ID=${GCP_PROJECT_ID}

# ============================================================================
# Backup Configuration
# ============================================================================
BACKUP_BUCKET=barq-fleet-backups
RETENTION_DAYS=30

# ============================================================================
# Monitoring & Observability
# ============================================================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE

# Sentry (Optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ============================================================================
# Email Configuration (Optional)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@barq-fleet.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=BARQ Fleet <noreply@barq-fleet.com>

# ============================================================================
# External Services
# ============================================================================
# Twilio (SMS notifications)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Stripe (Payments)
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# Celery Configuration
# ============================================================================
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/2
CELERY_TASK_ALWAYS_EAGER=false

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_API_DOCS=false  # Disable in production
ENABLE_DEBUG_TOOLBAR=false

# ============================================================================
# Performance
# ============================================================================
UVICORN_WORKERS=4
UVICORN_LOOP=uvloop
UVICORN_HTTP=httptools
UVICORN_TIMEOUT_KEEP_ALIVE=5

# ============================================================================
# Frontend Configuration
# ============================================================================
VITE_API_URL=https://api.barq-fleet.com/api/v1
VITE_WS_URL=wss://api.barq-fleet.com/ws
VITE_ENVIRONMENT=production
VITE_SENTRY_DSN=${SENTRY_DSN}
VITE_GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}

# ============================================================================
# Artifact Registry
# ============================================================================
ARTIFACT_REGISTRY=${GCP_REGION}-docker.pkg.dev/${GCP_PROJECT_ID}/barq-fleet

# ============================================================================
# Cloud Run Configuration
# ============================================================================
CLOUD_RUN_SERVICE_BACKEND=barq-api-production
CLOUD_RUN_SERVICE_FRONTEND=barq-web-production
CLOUD_RUN_MIN_INSTANCES=2
CLOUD_RUN_MAX_INSTANCES=100
CLOUD_RUN_TIMEOUT=300s

# ============================================================================
# Terraform State
# ============================================================================
TF_STATE_BUCKET=barq-fleet-terraform-state
TF_STATE_PREFIX=terraform/state

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit this file with real values to version control
# 2. Use Secret Manager for sensitive values in production
# 3. Generate strong random passwords (32+ characters)
# 4. Rotate secrets regularly
# 5. Use different values for staging and production
